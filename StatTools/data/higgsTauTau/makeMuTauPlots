#!/bin/sh


preselection='HLT_Any&&pt1>17&&pt2>20&&vertices>0&&diLeptons==0&&lPfRelIsoDeltaBeta<0.1&tauLooseIsoDBPt>0&&abs(dz)<0.2'
oswselection='charge==0&&pZeta<-40'
ossignalselection='charge==0&pZeta>-20'
sswselection='charge!=0&&pZeta<-40'
sssignalselection='charge!=0&&pZeta>-20'
qcdselection='pt1>17&&HLT_Any&&vertices>0&&diLeptons==0&&lPfRelIsoDeltaBeta<0.3&&tauLooseIsoDBPt>0.&&charge!=0&&mt1<40'
relaxedSelection='pt1>17&&HLT_Any&&vertices>0&&lPfRelIsoDeltaBeta<0.5&charge==0&&pZeta>-20'
vbfrelaxedSelection='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0&&pt1>17&&HLT_Any&&vertices>0&&lPfRelIsoDeltaBeta<0.5&charge==0&&pZeta>-20'
vbfSelection0='(nJetsPt30==0||(nJetsPt30==1&&highestJetPt<150.))'
vbfSelection1='(nJetsPt30>=1&&highestJetPt>150&&(!(nJetsPt30>=2&&vbfDEta>4.0&&vbfMass>400&&vbfNJetsGap30==0)))'
vbfSelection2='(nJetsPt30>=2&&vbfDEta>4.0&&vbfMass>400&&vbfNJetsGap30==0)'
luminosity=4678.
rm -rf muTauPlots
mkdir muTauPlots


vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05



MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,1,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZErr=0.04  vbfFactorW=1.13 vbfFactorWErr=0.04 boostFactorZ=0.95 boostFactorZErr=0.05 boostFactorW=0.95 boostFactorWErr=0.05 luminosity=$luminosity  variable='mass' bins=40 min=0.0 max=200 outputFile='muTauPlots/muTau_MVis.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,1,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='mass' bins=30 min=0.0 max=600 outputFile='muTauPlots/muTau_MVisLS.root'


MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,1,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='sv_Mass' bins=40 min=0.0 max=300 outputFile='muTauPlots/muTau_SVFit.root'


MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,1,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='sv_Mass' bins=30 min=0.0 max=600 outputFile='muTauPlots/muTau_SVFitLS.root'


MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='pt1' bins=20 min=0.0 max=170 outputFile='muTauPlots/muTau_pt1.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='pt2' bins=20 min=0.0 max=200 outputFile='muTauPlots/muTau_pt2.root'


MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='eta2' bins=25 min=-2.5 max=2.5 outputFile='muTauPlots/muTau_eta2.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='eta1' bins=25 min=-2.5 max=2.5 outputFile='muTauPlots/muTau_eta1.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='nJetsBTag3Pt20' bins=10 min=0.0 max=10 outputFile='muTauPlots/muTau_bjets.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='nJetsPt30' bins=10 min=0.0 max=10 outputFile='muTauPlots/muTau_jets.root'


oswselection='charge==0&&pZeta<-40'
ossignalselection='charge==0'
sswselection='charge!=0&&pZeta<-40'
sssignalselection='charge!=0'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='pZeta' bins=30 min=-100 max=50 outputFile='muTauPlots/muTau_PZ.root'



oswselection='charge==0&&mt1>70'
ossignalselection='charge==0'
sswselection='charge!=0&&mt1>70'
sssignalselection='charge!=0'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,0,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='mt1' bins=20 min=0 max=140 outputFile='muTauPlots/muTau_MT.root'

relaxedSelection='pt1>17&&HLT_Any&&vertices>0&&lPfRelIsoDeltaBeta<0.5&charge==0&&mt1<40'


oswselection='charge==0&&mt1>70'
ossignalselection='charge==0&mt1<40'
sswselection='charge!=0&&mt1>70'
sssignalselection='charge!=0&&mt1<40'

binning='binningHighStat=0.,10.,20.,30.,40.,50.,60.,70.,80.,90.,100.,110.,120.,130.,140.,150.,160.,170.,180.,190.,200.,210.,220.,230.,240.,250.,260.,280.,300.,320.,340.,360.,400,500. binningLowStat=0.,20.,40.,60.,80.,100.,120.,140.,160.,180.,200.,220.,240.,260.,280.,300.,350.' 


preselection='HLT_Any&&pt1>17&&pt2>20&&vertices>0&&diLeptons==0&&lPfRelIsoDeltaBeta<0.1&tauLooseIsoDBPt>0&&abs(dz)<0.2&&nJetsPt30>0'

qcdselection='pt1>17&&HLT_Any&&vertices>0&&diLeptons==0&&lPfRelIsoDeltaBeta<0.3&&tauLooseIsoDBPt>0.&&charge!=0&&mt1<40&&nJetsPt30>0'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1="nJetsPt30>=1"  vbfSelection2='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0'  relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=0.95 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=0.95 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='highestJetPt' bins=40. min=0 max=400. outputFile='muTauPlots/muTau_BoostedPt.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1="nJetsPt30>=1"  vbfSelection2='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0'  relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=0.95 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=0.95 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='highestJetEta' bins=45. min=-4.5 max=4.5 outputFile='muTauPlots/muTau_BoostedEta.root'

preselection='HLT_Any&&pt1>17&&pt2>20&&vertices>0&&diLeptons==0&&lPfRelIsoDeltaBeta<0.1&tauLooseIsoDBPt>0&&abs(dz)<0.2'
qcdselection='pt1>17&&HLT_Any&&vertices>0&&diLeptons==0&&lPfRelIsoDeltaBeta<0.3&&tauLooseIsoDBPt>0.&&charge!=0&&mt1<40'


MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,1,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='mass' $binning outputFile='muTauPlots/muTau_SM_MVis.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,1,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2=$vbfSelection2   relaxedSelection=$relaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='sv_Mass' $binning outputFile='muTauPlots/muTau_SM_SVFit.root'

preselection='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0&&HLT_Any&&pt1>17&&pt2>20&&vertices>0&&diLeptons==0&&lPfRelIsoDeltaBeta<0.1&tauLooseIsoDBPt>0&&abs(dz)<0.2'
qcdselection='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0&&pt1>17&&HLT_Any&&vertices>0&&diLeptons==0&&lPfRelIsoDeltaBeta<0.3&&tauLooseIsoDBPt>0.&&charge!=0&&mt1<40'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0'  relaxedSelection=$vbfrelaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=1.13 vbfFactorZ=1.14 vbfFactorZErr=0.011  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='vbfDEta' bins=20. min=0.001 max=10.0  outputFile='muTauPlots/muTau_DEta.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0'  relaxedSelection=$vbfrelaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=0.95 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='vbfMass' bins=24. min=0.001 max=1200. outputFile='muTauPlots/muTau_MJJ.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0'  relaxedSelection=$vbfrelaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=0.95 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='vbfPt1' bins=20. min=0.001 max=400. outputFile='muTauPlots/muTau_vbfPt1.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0'  relaxedSelection=$vbfrelaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=0.95 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='vbfPt2' bins=20. min=0.001 max=400. outputFile='muTauPlots/muTau_vbfPt2.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0'  relaxedSelection=$vbfrelaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=0.95 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='vbfEta1' bins=18. min=-4.5 max=4.5 outputFile='muTauPlots/muTau_vbfEta1.root'

MakeDataCard channel='muTau'    dataFile='../inputs/mutau/DATA.root' wThreeJetsFile='../inputs/mutau/W3JETS.root' zttFile='../inputs/mutau/ZJETS.root' zllFile='../inputs/mutau/ZJETS.root' wFile='../inputs//mutau/W.root' vvFile='../inputs/mutau/VV.root' topFile='../inputs/mutau/TOP.root' zEmbeddedSample='../inputs/mutau/ZTT-EM.root' preselection=$preselection       oswselection=$oswselection	       ossignalselection=$ossignalselection         sswselection=$sswselection	      sssignalselection=$sssignalselection  qcdselection=$qcdselection  luminosityErr=0.045 qcdfactor=1.11 qcdfactorErr=0.02 vvErr=0.3  zttScale=1.004 zttScaleErr=0.033    wFactorErr=0.06    zjfterr=0.1  zlfterr=0.24   topErr=0.075 	muID=1.00 muIDErr=0.01 eleID=0.0 eleIDErr=0.0 tauID=1.0 tauIDErr=0.06  dir='../inputs/mutau/'  bID=0.94  bIDErr=0.10  bMisID=1.21  bMisIDErr=0.17    bitmask=1,0,1,0  vbfSelection0=$vbfSelection0 vbfSelection1=$vbfSelection1  vbfSelection2='nJetsPt30>=2&&vbfDEta>0&&vbfMass>0'  relaxedSelection=$vbfrelaxedSelection  weight='__WEIGHT__*__CORR__' vbfFactorZ=0.95 vbfFactorZ=1.14 vbfFactorZErr=0.032  vbfFactorW=1.14 vbfFactorWErr=0.05 boostFactorZ=0.800 boostFactorZErr=0.040 boostFactorW=0.935 boostFactorWErr=0.05 luminosity=$luminosity  variable='vbfEta2' bins=18. min=-4.5 max=4.5 outputFile='muTauPlots/muTau_vbfEta2.root'

